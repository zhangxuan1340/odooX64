
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Exporting and importing Servers &#8212; pgAdmin 4 4.2 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/sidebar.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Managing Cluster Level Objects" href="managing_cluster_objects.html" />
    <link rel="prev" title="Connection error" href="connect_error.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="managing_cluster_objects.html" title="Managing Cluster Level Objects"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="connect_error.html" title="Connection error"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pgAdmin 4 4.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="connecting.html" accesskey="U">Connecting to a Server</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="exporting-and-importing-servers">
<span id="export-import-servers"></span><h1><span class="target" id="index-0"></span>Exporting and importing Servers<a class="headerlink" href="#exporting-and-importing-servers" title="Permalink to this headline">Â¶</a></h1>
<p>Server definitions (and their groups) can be exported to a JSON file and
re-imported to the same or a different system to enable easy pre-configuration
of pgAdmin. The <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> script is used for this purpose.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">To export or import servers, you must use the Python interpreter that
is normally used to run pgAdmin to ensure that the required Python
packages are available. In most packages, this can be found in the
Python Virtual Environment that can be found in the installation
directory. When using platform-native packages, the system installation
of Python may be the one used by pgAdmin.</p>
</div>
<p><strong>Exporting Servers</strong></p>
<p>To export the servers defined in an installation, simply invoke <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> with
the <code class="docutils literal notranslate"><span class="pre">--dump-servers</span></code> command line option, followed by the name (and if required,
path) to the desired output file. By default, servers owned by the desktop mode
user will be dumped (<a class="reference external" href="mailto:pgadmin4&#37;&#52;&#48;pgadmin&#46;org">pgadmin4<span>&#64;</span>pgadmin<span>&#46;</span>org</a> by default - see the DESKTOP_USER
setting in <code class="docutils literal notranslate"><span class="pre">config.py</span></code>). This can be overridden with the <code class="docutils literal notranslate"><span class="pre">--user</span></code> command
line option. For example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/path/to/python /path/to/setup.py --dump-servers output_file.json

<span class="c1"># or, to specify a non-default user name:</span>

/path/to/python /path/to/setup.py --dump-servers output_file.json --user user@example.com
</pre></div>
</div>
<p>To export only certain servers, use the <code class="docutils literal notranslate"><span class="pre">--servers</span></code> option and list one or
more server IDs. For example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/path/to/python /path/to/setup.py --dump-servers output_file.json --server <span class="m">1</span> <span class="m">2</span> <span class="m">5</span>
</pre></div>
</div>
<p><strong>Importing Servers</strong></p>
<p>To import the servers defined in a JSON file, simply invoke <code class="docutils literal notranslate"><span class="pre">setup.py</span></code> with
the <code class="docutils literal notranslate"><span class="pre">--load-servers</span></code> command line option, followed by the name (and if required,
path) of the JSON file containing the server definitions. Servers will be owned
by the desktop mode user (<a class="reference external" href="mailto:pgadmin4&#37;&#52;&#48;pgadmin&#46;org">pgadmin4<span>&#64;</span>pgadmin<span>&#46;</span>org</a> by default - see the DESKTOP_USER
setting in <code class="docutils literal notranslate"><span class="pre">config.py</span></code>). This can be overridden with the <code class="docutils literal notranslate"><span class="pre">--user</span></code> command
line option. For example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/path/to/python /path/to/setup.py --load-servers input_file.json

<span class="c1"># or, to specify a non-default user name to own the new servers:</span>

/path/to/python /path/to/setup.py --load-servers input_file.json --user user@example.com
</pre></div>
</div>
<p>If any Servers are defined with a Server Group that is not already present in
the configuration database, the required Group will be created.</p>
<p><strong>JSON format</strong></p>
<p>The JSON file format used when importing or exporting servers is quite
straightforward and simply contains a list of servers, with a number of
attributes. The following attributes are required to be present in every server
definition: Name, Group, Port, Username, SSLMode, MaintenanceDB and one of Host,
HostAddr or Service.</p>
<p>Password fields cannot be imported or exported.</p>
<p>The following example shows both a minimally defined and a fully defined server:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;Servers&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;1&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;Name&quot;</span><span class="p">:</span> <span class="s2">&quot;Minimally Defined Server&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Group&quot;</span><span class="p">:</span> <span class="s2">&quot;Server Group 1&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Port&quot;</span><span class="p">:</span> <span class="mi">5432</span><span class="p">,</span>
            <span class="s2">&quot;Username&quot;</span><span class="p">:</span> <span class="s2">&quot;postgres&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Host&quot;</span><span class="p">:</span> <span class="s2">&quot;localhost&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SSLMode&quot;</span><span class="p">:</span> <span class="s2">&quot;prefer&quot;</span><span class="p">,</span>
            <span class="s2">&quot;MaintenanceDB&quot;</span><span class="p">:</span> <span class="s2">&quot;postgres&quot;</span>
        <span class="p">},</span>
        <span class="s2">&quot;2&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;Name: &quot;</span><span class="n">Fully</span> <span class="n">Defined</span> <span class="n">Server</span><span class="s2">&quot;,</span>
            <span class="s2">&quot;Group&quot;</span><span class="p">:</span> <span class="s2">&quot;Server Group 2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Host&quot;</span><span class="p">:</span> <span class="s2">&quot;host.domain.com&quot;</span><span class="p">,</span>
            <span class="s2">&quot;HostAddr&quot;</span><span class="p">:</span> <span class="s2">&quot;192.168.1.2&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Port&quot;</span><span class="p">:</span> <span class="mi">5432</span><span class="p">,</span>
            <span class="s2">&quot;MaintenanceDB&quot;</span><span class="p">:</span> <span class="s2">&quot;postgres&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Username&quot;</span><span class="p">:</span> <span class="s2">&quot;postgres&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Role&quot;</span><span class="p">:</span> <span class="s2">&quot;my_role_name&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SSLMode&quot;</span><span class="p">:</span> <span class="s2">&quot;require&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Comment&quot;</span><span class="p">:</span> <span class="s2">&quot;This server has every option configured in the JSON&quot;</span><span class="p">,</span>
            <span class="s2">&quot;DBRestriction&quot;</span><span class="p">:</span> <span class="s2">&quot;live_db test_db&quot;</span><span class="p">,</span>
            <span class="s2">&quot;PassFile&quot;</span><span class="p">:</span> <span class="s2">&quot;/path/to/pgpassfile&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SSLCert&quot;</span><span class="p">:</span> <span class="s2">&quot;/path/to/sslcert.crt&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SSLKey&quot;</span><span class="p">:</span> <span class="s2">&quot;/path/to/sslcert.key&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SSLRootCert&quot;</span><span class="p">:</span> <span class="s2">&quot;/path/to/sslroot.crt&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SSLCrl&quot;</span><span class="p">:</span> <span class="s2">&quot;/path/to/sslcrl.crl&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SSLCompression&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;BGColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#ff9900&quot;</span><span class="p">,</span>
            <span class="s2">&quot;FGColor&quot;</span><span class="p">:</span> <span class="s2">&quot;#000000&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Service&quot;</span><span class="p">:</span> <span class="s2">&quot;postgresql-10&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Timeout&quot;</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span>
            <span class="s2">&quot;UseSSHTunnel&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="s2">&quot;TunnelHost&quot;</span><span class="p">:</span> <span class="s2">&quot;192.168.1.253&quot;</span><span class="p">,</span>
            <span class="s2">&quot;TunnelPort&quot;</span><span class="p">:</span> <span class="mi">22</span><span class="p">,</span>
            <span class="s2">&quot;TunnelUsername&quot;</span><span class="p">:</span> <span class="s2">&quot;username&quot;</span><span class="p">,</span>
            <span class="s2">&quot;TunnelAuthentication&quot;</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="connecting.html">Connecting to a Server</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="server_group_dialog.html">Server Group Dialog</a></li>
<li class="toctree-l2"><a class="reference internal" href="server_dialog.html">Server Dialog</a></li>
<li class="toctree-l2"><a class="reference internal" href="connect_to_server.html">Connect to server</a></li>
<li class="toctree-l2"><a class="reference internal" href="connect_error.html">Connection error</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Exporting and importing Servers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="managing_cluster_objects.html">Managing Cluster Level Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="managing_database_objects.html">Managing Database Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="modifying_tables.html">Creating or Modifying a Table</a></li>
<li class="toctree-l1"><a class="reference internal" href="management_basics.html">Management Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="backup_and_restore.html">Backup and Restore</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_tools.html">Developer Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="deployment.html">pgAdmin Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributions.html">pgAdmin Project Contributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="pgagent.html">pgAgent</a></li>
<li class="toctree-l1"><a class="reference internal" href="licence.html">Licence</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="managing_cluster_objects.html" title="Managing Cluster Level Objects"
             >next</a> |</li>
        <li class="right" >
          <a href="connect_error.html" title="Connection error"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pgAdmin 4 4.2 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="connecting.html" >Connecting to a Server</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright (C) 2013 - 2019, The pgAdmin Development Team.
    </div>
  </body>
</html>